# ═══════════════════════════════════════════════════════════
# AQUARI Weekly Airdrop System - Configuration
# ═══════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════
# MODE
# ═══════════════════════════════════════════════════════════
# fork       = Fast cycles on Anvil fork for testing (localhost:8545)
# production = Weekly schedule on Base mainnet
MODE=fork

NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# ═══════════════════════════════════════════════════════════
# CRON SCHEDULING - 3 Steps (Required)
# ═══════════════════════════════════════════════════════════
# Cron format: "minute hour day month weekday"
#
# 3-Step Flow:
#   1. SNAPSHOT_CRON   → Take snapshot (uses previous as baseline)
#   2. CALCULATE_CRON  → Calculate rewards (needs 2+ snapshots)
#   3. AIRDROP_CRON    → Auto-airdrop (100% wallet balance)
#
# Fork Mode Example (hourly, 2 min apart):
#   SNAPSHOT_CRON=0 * * * *
#   CALCULATE_CRON=2 * * * *
#   AIRDROP_CRON=4 * * * *
#
# Production Mode Example (Sunday night, 5 min apart):
#   SNAPSHOT_CRON=0 0 * * 0
#   CALCULATE_CRON=5 0 * * 0
#   AIRDROP_CRON=10 0 * * 0
#
SNAPSHOT_CRON=0 * * * *
CALCULATE_CRON=2 * * * *
AIRDROP_CRON=4 * * * *

# ═══════════════════════════════════════════════════════════
# DATABASE
# ═══════════════════════════════════════════════════════════
MONGODB_URI=mongodb://localhost:27017/aquari-airdrop

# ═══════════════════════════════════════════════════════════
# REDIS (For BullMQ job queue)
# ═══════════════════════════════════════════════════════════
REDIS_URL=redis://localhost:6379

# ═══════════════════════════════════════════════════════════
# ADMIN DASHBOARD CREDENTIALS
# ═══════════════════════════════════════════════════════════
# Generate secure credentials with: npx ts-node scripts/generate-credentials.ts
#
# ADMIN_PASSWORD should be a bcrypt hash (starts with $2a$ or $2b$)
# Example: $2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/X4.HQS1K1pQvKMKiu
#
ADMIN_USERNAME=admin
ADMIN_PASSWORD=$2a$12$REPLACE_WITH_BCRYPT_HASH_FROM_GENERATOR
SESSION_SECRET=REPLACE_WITH_64_CHAR_RANDOM_STRING_FROM_GENERATOR

# ═══════════════════════════════════════════════════════════
# MORALIS API (Free Tier: 40,000 CU/day)
# ═══════════════════════════════════════════════════════════
MORALIS_API_KEY=your_moralis_api_key

# ═══════════════════════════════════════════════════════════
# BLOCKCHAIN
# ═══════════════════════════════════════════════════════════
# RPC_URL: The RPC endpoint for transactions
#   Fork mode:       http://localhost:8545 (Anvil)
#   Production mode: https://mainnet.base.org
RPC_URL=http://localhost:8545

# ═══════════════════════════════════════════════════════════
# WALLET
# ═══════════════════════════════════════════════════════════
# Required for production mode, auto-generated for fork mode
# PRIVATE_KEY=your_airdropper_wallet_private_key

# ═══════════════════════════════════════════════════════════
# TOKEN CONFIG
# ═══════════════════════════════════════════════════════════
TOKEN_ADDRESS=0x7F0E9971D3320521Fc88F863E173a4cddBB051bA
TOKEN_SYMBOL=AQUARI
TOKEN_DECIMALS=18
MIN_BALANCE=1000000000000000000000   # 1000 tokens in wei

# ═══════════════════════════════════════════════════════════
# MOCK FLAGS
# ═══════════════════════════════════════════════════════════
# MOCK_SNAPSHOTS:    true = fake holder data, false = real Moralis API
# MOCK_TRANSACTIONS: true = simulate tx, false = real blockchain
MOCK_SNAPSHOTS=false
MOCK_TRANSACTIONS=false

# ═══════════════════════════════════════════════════════════
# BATCH CONFIG
# ═══════════════════════════════════════════════════════════
BATCH_SIZE=500                # Recipients per transaction (max ~500 for Base)
MAX_GAS_PRICE=50000000000     # 50 gwei max
CONFIRMATIONS=1               # Blocks to wait (1 for fork, 3 for production)

# ═══════════════════════════════════════════════════════════
# QUICK START EXAMPLES
# ═══════════════════════════════════════════════════════════
#
# 1. FORK MODE (hourly cycles, 2 min apart):
#    MODE=fork
#    SNAPSHOT_CRON=0 * * * *
#    CALCULATE_CRON=2 * * * *
#    AIRDROP_CRON=4 * * * *
#    RPC_URL=http://localhost:8545
#
# 2. PRODUCTION (Sunday midnight UTC, 5 min apart):
#    MODE=production
#    SNAPSHOT_CRON=0 0 * * 0
#    CALCULATE_CRON=5 0 * * 0
#    AIRDROP_CRON=10 0 * * 0
#    RPC_URL=https://mainnet.base.org
#    PRIVATE_KEY=your_real_private_key
#    CONFIRMATIONS=3
#
# NOTE: First cycle only takes baseline snapshot (no airdrop possible).
#       Airdrops start from cycle 2 onwards when 2+ snapshots exist.
